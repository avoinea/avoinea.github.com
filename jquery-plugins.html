
<!DOCTYPE html><html>
<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8"/>
    
        <title>Writing solid and extensible jQuery plugins &mdash; Alin Voinea 6.0 documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='http://fonts.googleapis.com/css?family=Crete+Round' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="_static/sphinx-bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css"/>
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
        <script type="text/javascript">
            var DOCUMENTATION_OPTIONS = {
                URL_ROOT:'',
                VERSION:'6.0',
                COLLAPSE_INDEX:false,
                FILE_SUFFIX:'.html',
                HAS_SOURCE:  true
            };
        </script>
            <script type="text/javascript" src="_static/jquery.js"></script>
            <script type="text/javascript" src="_static/underscore.js"></script>
            <script type="text/javascript" src="_static/doctools.js"></script>
            <script type="text/javascript" src="_static/bootstrap-dropdown.js"></script>
            <script type="text/javascript" src="_static/jquery.tools.min.js"></script>
            <script type="text/javascript" src="_static/bootstrap-custom.js"></script>
        <link rel="top" title="Alin Voinea 6.0 documentation" href="index.html"/> 
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    
</head>
<body>

    <div class="navbar">
        <div class="navbar-inner">
            <div class="container">

    <div class="related">
        <ul class="nav">
                <li class="active"><a class="brand"
                       href="index.html">Alin Voinea</a></li>
                <li>
                    <a href="genindex.html"
                       title="General Index" accesskey="I">index</a>
                </li> 
        </ul>
    </div>
                <div class="pull-right">
                    
        <form class="navbar-search" action="search.html"
              method="get">
            <input type="text" name="q" placeholder="search"/>
            <input type="hidden" name="check_keywords" value="yes"/>
            <input type="hidden" name="area" value="default"/>
        </form>
                </div>
            </div>
        </div>
    </div>


<ul class="quick-links">
    <li><strong>Quick links</strong></li>
    <li>
        <a href="https://github.com/avoinea/avoinea.github.com/">GitHub</a>
    </li>
    <li>
        <a href="https://github.com/avoinea/avoinea.github.com/issues?state=open">Issues</a>
    </li>
    <li class="divider">&middot;</li>
    <li>
        <iframe class="github-btn"
                src="http://ghbtns.com/github-btn.html?user=avoinea&repo=avoinea.github.com&type=watch&count=true"
                allowtransparency="true" frameborder="0" scrolling="0"
                width="110px" height="20px"></iframe>
    </li>
    <li>
        <iframe class="github-btn"
                src="http://ghbtns.com/github-btn.html?user=avoinea&repo=avoinea.github.com&type=fork&count=true"
                allowtransparency="true" frameborder="0" scrolling="0"
                width="94px" height="20px"></iframe>
    </li>

    <li class="divider">&middot;</li>
    <li class="follow-btn">
        <a href="https://twitter.com/alinvoinea"
           class="twitter-follow-button" data-width="145px"
           data-link-color="#0069D6" data-show-count="false">Follow
            @alinvoinea</a>
    </li>
    <li class="tweet-btn">
        <a href="https://twitter.com/share" class="twitter-share-button"
           data-url="http://avoinea.com" data-count="horizontal"
           data-via="twbootstrap"
           data-related="alinvoinea:Creator of Alin Voinea">Tweet</a>
    </li>
    <li class="plusone-container">
        <g:plusone size="medium"></g:plusone>
    </li>
</ul>  
    <div class="container">
        <div class="content row">
                <div class="span9">
                    
  <div class="section" id="writing-solid-and-extensible-jquery-plugins">
<h1>Writing solid and extensible jQuery plugins<a class="headerlink" href="#writing-solid-and-extensible-jquery-plugins" title="Permalink to this headline">Â¶</a></h1>
<p>I personally, don&#8217;t like the way <a class="reference external" href="http://docs.jquery.com/Plugins/Authoring">jquery.com</a> encourages you to write plugins,
as it&#8217;s easy to end up with a large spaghetti plate even if you&#8217;re not living
in Italy :)</p>
<p>Despite the fact that I am a Python geek and Python is about doing things
clean and quickly with no more than one namespace - just kidding - I still
like classes, instances, interfaces, utilities and adapters - this may be due
the fact that for the last 7 year I mostly worked with Zope and Zope Components.</p>
<p>Thus, after 4 years of adding life to my work through JavaScript I am ready
to share with you a very powerful way of writing JavaScript code and hence
jQuery plugins.</p>
<p>First of all let me to share with you the following statement from
The Zen of Python, by Tim Peters:</p>
<blockquote>
<div>** Namespaces are one honking great idea &#8211; let&#8217;s do more of those! **</div></blockquote>
<p>Why not to apply this also when writing JavaScript code. Here is how we start,
we define our top namespace, safely, in order to allow it to be extend later
outside of this JS file:</p>
<div class="highlight-python"><pre>if(!window.Alien){
  var Alien = {"version": "1.0"};
}</pre>
</div>
<p>And from here we begin to add our plugins:</p>
<div class="highlight-python"><pre>Alien.Ship = function(context, options){
  var self = this;
  self.context = context;

  self.settings = {
    width: 800,
    height: 600
  };


  if(options){
    jQuery.extend(self.settings, options);
  }

  self.initialize();
};</pre>
</div>
<p>Now that we&#8217;ve added our constructor, let&#8217;s make it possible to instantiate
it with the new JS keyword:</p>
<div class="highlight-python"><pre> Alien.Ship.prototype = {
  initialize: function(){
    var self = this;

    // Bind some events
    self.context.bind('width-changed', function(evt, data){
      self.handle_width(data);
    });

    self.context.bind('height-changed', function(evt, data){
      self.handle_height(data);
    });

    // Do some initialization
    self.context.css('background-color', 'gray');
  },


  handle_width: function(data){
    var self = this;
    self.settings.width = data.width;
  },

  handle_height: function(data){
    var self = this;
    self.settings.height = data.height;
  }
};</pre>
</div>
<p>OK, but where is the jQuery plugin. Well, here it is:</p>
<div class="highlight-python"><pre>jQuery.fn.AlienShip = function(options){
  return this.each(function(){
    var context = jQuery(this);
    var ship = new Alien.Ship(context, options);
    context.data('AlienShip', ship);
  });
};</pre>
</div>
<p>Whis this, we have the power of a jQuery plugins brought together with the
flexibility of the prototype object from JavaScript.</p>
<p>It&#8217;s easy to call it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">jQuery</span><span class="p">(</span><span class="s">&#39;.car&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">AlienShip</span><span class="p">({</span><span class="n">width</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="mi">800</span><span class="p">});</span>
</pre></div>
</div>
<p>It easy to access it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">jQuery</span><span class="p">(</span><span class="s">&#39;.car&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="s">&#39;AlienShip&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">width</span><span class="p">;</span>
</pre></div>
</div>
<p>And it&#8217;s easy to extend it:</p>
<div class="highlight-python"><pre>Alien.Ship.prototype.handle_width = function(data){
  var self = this;
  self.settings.width = data.width / 2;
};</pre>
</div>
<p>Download this full javascript file at <a class="reference external" href="https://gist.github.com/3717757">https://gist.github.com/3717757</a></p>
</div>


                    
                        <div id="disqus_thread"></div>
                        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    
                </div>
                <div class="span3">
                    
        <div class="sphinxsidebar">
            <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/jquery-plugins.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
            </div>
        </div>
                </div>
            
        </div>
    </div>
    <div class="footer">
        
        <div class="container">
                    &copy;
                        Copyright 2012, Alin Voinea.
                Created using <a
                        href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3
                    .
                Theme <a href="https://github.com/scotch/sphinx-bootstrap">Sphinx-Bootstrap</a>
                adapted from
                <a href="http://twitter.github.com/bootstrap/">Twitter's
                    Bootstrap</a> by <a href="http://www.scotchmedia.com">Scotch
                Media</a>
        </div>
    </div>


    <!-- disqus -->
    <script type="text/javascript">
        var disqus_title = 'Writing solid and extensible jQuery plugins &mdash; Alin Voinea 6.0 documentation';
        var disqus_identifier ='code' + '.' + "avoinea" + window.location.pathname.replace('/', '.');
    </script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "avoinea"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>


<script type="text/javascript">
    $('.nav .active').on('click', function () {
        e.preventDefault()
        $(this).siblings().toggle()
    });
</script>

<!-- plusone -->
<script type="text/javascript">
    (function () {
        var po = document.createElement('script');
        po.type = 'text/javascript';
        po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(po, s);
    })();
</script>

<!-- twitter -->
<script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>

</body>
</html>